.\"Copyright (c) 2024, Jesús Daniel Colmenares Oviedo <DtxdF@disroot.org>
.\"All rights reserved.
.\"
.\"Redistribution and use in source and binary forms, with or without
.\"modification, are permitted provided that the following conditions are met:
.\"
.\"* Redistributions of source code must retain the above copyright notice, this
.\"  list of conditions and the following disclaimer.
.\"
.\"* Redistributions in binary form must reproduce the above copyright notice,
.\"  this list of conditions and the following disclaimer in the documentation
.\"  and/or other materials provided with the distribution.
.\"
.\"* Neither the name of the copyright holder nor the names of its
.\"  contributors may be used to endorse or promote products derived from
.\"  this software without specific prior written permission.
.\"
.\"THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
.\"AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\"IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
.\"DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
.\"FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\"DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
.\"SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
.\"CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
.\"OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
.\"OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.Dd April 27, 2024
.Dt APPJAIL-LABEL 1
.Os
.Sh NAME
.Nm appjail-label
.Nd Add metadata to jails
.Sh SYNOPSIS
.Nm appjail label
.Cm add
.Ar jail
.Ar label
.Op Ar value
.Nm appjail label
.Cm get
.Op Fl eHIpt
.Fl l Ar label
.Ar jail
.Op Ar keyword Ns " " Ns "..."
.Nm appjail label
.Cm list
.Op Fl eHIpt
.Op Fl l Ar label
.Ar jail
.Op Ar keyword Ns " " Ns "..."
.Nm appjail label
.Cm remove
.Ar jail
.Ar label
.Sh DESCRIPTION
The
.Sy appjail label
utility adds metadata known as labels to jails, which are technically a key-value
pair object. This helps it integrate better with third-party tools that use jails
created by AppJail.
.Pp
A label key is valid when the first and last letters is alphabetic, then the rest
of the letters are alphanumeric and lowercase and can have a period or a
hyphen but not consecutive.
.Pp
The options are as follows:
.Bl -tag -width xxx
.It Cm add Ar jail Ar label Oo Ar value Oc
Add a new
.Ar label
to
.Ar jail
.Ns "."
.It Cm get Oo Fl eHIpt Oc Fl l Ar label Ar jail Oo Ar keyword No "..." Oc
Get information about
.Ar jail Ns 's Ar label
.Ns , that is, the
.Ar keyword
that represent the information to be obtained. Multiple keywords can be specified,
which are displayed as a table-like interface in the order in which they are specified.
.No If no Ar keyword No is specified, the defaults are Sy name No and Sy value Ns "."
.Pp
See
.Sx KEYWORDS
for a list of available keywords.
.Pp
.Bl -tag -width xx
.It Fl e
Not required when using
.Fl p
.Ns "."
The
.Sy \et
character is used to delimit columns,
so as not to show strange values, this option shows
.Sy <TAB>
instead of
.Sy \et
in the case that a value contains the latter.
.It Fl H
Shows the name of the columns.
.It Fl I
Include empty values. By default, a minus sign is displayed when a value is empty.
.It Fl p
Columnate the list.
.It Fl t
Tabulate columns and values.
.El
.It Cm list Oo Fl eHIpt Oc Oo Fl l Ar label Oc Ar jail Oo Ar keyword No "..." Oc
.No Similar to Cm get No but shows each Ar keyword No for each label in a nice table.
.Pp
.Bl -tag -width xx
.It Fl e Ns , Fl H Ns , Fl I Ns , Fl p Ns , Fl t
.No All of these options perform the opposite task of the options described in Cm get Ns "."
.It Fl l Ar label
.No Only show information for Ar label Ns "."
.El
.It Cm remove Ar jail Ar label
Remove a label.
.El
.Sh KEYWORDS
.Bl -tag -width xx
.It Sy name
Label name.
.It Sy value
Label value.
.El
.Sh EXIT STATUS
.Ex -std "appjail label"
.Sh SEE ALSO
.Xr sysexits 3
.Sh AUTHORS
.An Jesús Daniel Colmenares Oviedo Aq Mt DtxdF@disroot.org
